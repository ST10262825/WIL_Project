@model TutorConnect.WebApp.Models.ChangePasswordDTO
@{
    ViewData["Title"] = "Change Password";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-3">
            <!-- Settings Sidebar -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0"><i class="fas fa-cog me-2"></i>Settings</h5>
                </div>
                <div class="list-group list-group-flush">
                    <a href="/Tutor/ChangePassword" class="list-group-item list-group-item-action active">
                        <i class="fas fa-key me-2"></i>Change Password
                    </a>
                    <a href="/Tutor/MyProfile" class="list-group-item list-group-item-action">
                        <i class="fas fa-user me-2"></i>Profile Settings
                    </a>
                   
                </div>
            </div>
        </div>

        <div class="col-md-9">
            <div class="card">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4 class="mb-0"><i class="fas fa-key me-2"></i>Change Password</h4>
                        <a href="/Tutor/Settings" class="btn btn-sm btn-outline-secondary">
                            <i class="fas fa-arrow-left me-1"></i> Back to Settings
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    @if (TempData["SuccessMessage"] != null)
                    {
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <i class="fas fa-check-circle me-2"></i>@TempData["SuccessMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    }

                    <form asp-action="ChangePassword" method="post">
                        @Html.AntiForgeryToken()

                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-group mb-3">
                                    <label asp-for="CurrentPassword" class="form-label">
                                        <i class="fas fa-lock me-1"></i>Current Password
                                    </label>
                                    <input type="password" class="form-control" asp-for="CurrentPassword"
                                           placeholder="Enter your current password" required>
                                    <span asp-validation-for="CurrentPassword" class="text-danger small"></span>
                                </div>

                                <div class="form-group mb-3">
                                    <label asp-for="NewPassword" class="form-label">
                                        <i class="fas fa-key me-1"></i>New Password
                                    </label>
                                    <input type="password" class="form-control" asp-for="NewPassword"
                                           placeholder="Enter new password (minimum 6 characters)" required>
                                    <span asp-validation-for="NewPassword" class="text-danger small"></span>
                                    <div class="form-text">Password must be at least 6 characters long.</div>
                                </div>

                                <div class="form-group mb-4">
                                    <label asp-for="ConfirmPassword" class="form-label">
                                        <i class="fas fa-key me-1"></i>Confirm New Password
                                    </label>
                                    <input type="password" class="form-control" asp-for="ConfirmPassword"
                                           placeholder="Confirm your new password" required>
                                    <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
                                </div>

                                <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save me-2"></i>Update Password
                                    </button>
                                    <a href="/Tutor/Settings" class="btn btn-secondary">
                                        <i class="fas fa-times me-2"></i>Cancel
                                    </a>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <h6 class="card-title">
                                            <i class="fas fa-info-circle me-1"></i>Password Tips
                                        </h6>
                                        <ul class="small text-muted mb-0">
                                            <li>Use at least 6 characters</li>
                                            <li>Include numbers and letters</li>
                                            <li>Avoid common words</li>
                                            <li>Don't reuse old passwords</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        // Clear success message after 5 seconds
        setTimeout(function() {
            $('.alert-success').fadeOut('slow');
        }, 5000);
    </script>
}